{% extends "base.html" %}

{% block title %}Contact{% endblock %}

{% block content %}
<!-- Contact Header -->
<section class="contact-header">
    <div class="container">
        <h1 class="page-title">Get In Touch</h1>
        <p class="page-subtitle">
            I'm always interested in new opportunities and exciting projects. 
            Let's discuss how we can work together!
        </p>
    </div>
</section>

<!-- Contact Content -->
<section class="contact-content">
    <div class="container">
        <div class="contact-grid">
            <!-- Contact Information -->
            <div class="contact-info">
                <h2>Let's Connect</h2>
                <p class="contact-intro">
                    Whether you have a project in mind, want to discuss opportunities, 
                    or just want to say hello, I'd love to hear from you.
                </p>
                
                <div class="contact-methods">
                    <div class="contact-method">
                        <div class="method-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="method-info">
                            <h3>Email</h3>
                            <p>contact@example.com</p>
                            <a href="mailto:contact@example.com">Send Email</a>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="method-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="method-info">
                            <h3>Phone</h3>
                            <p>+1 (555) 123-4567</p>
                            <a href="tel:+15551234567">Call Now</a>
                        </div>
                    </div>
                    
                    <div class="contact-method">
                        <div class="method-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="method-info">
                            <h3>Location</h3>
                            <p>San Francisco, CA</p>
                            <span>Available for remote work</span>
                        </div>
                    </div>
                </div>
                
                <div class="social-connect">
                    <h3>Follow Me</h3>
                    <div class="social-links">
                        <a href="#" class="social-link">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Contact Form -->
            <div class="contact-form">
                <form method="POST" class="form" id="contactForm" novalidate>
                    <div class="form-header">
                        <h2>Send a Message</h2>
                        <p>Fill out the form below and I'll get back to you as soon as possible.</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="name" class="form-label">
                            <i class="fas fa-user"></i>
                            Full Name
                        </label>
                        <input type="text" id="name" name="name" class="form-input" required>
                        <div class="error-message" id="name-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email" class="form-label">
                            <i class="fas fa-envelope"></i>
                            Email Address
                        </label>
                        <input type="email" id="email" name="email" class="form-input" required>
                        <div class="error-message" id="email-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="subject" class="form-label">
                            <i class="fas fa-tag"></i>
                            Subject
                        </label>
                        <select id="subject" name="subject" class="form-select" required>
                            <option value="">Select a subject...</option>
                            <option value="project">Project Inquiry</option>
                            <option value="job">Job Opportunity</option>
                            <option value="collaboration">Collaboration</option>
                            <option value="consultation">Consultation</option>
                            <option value="other">Other</option>
                        </select>
                        <div class="error-message" id="subject-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="message" class="form-label">
                            <i class="fas fa-comment"></i>
                            Message
                        </label>
                        <textarea id="message" name="message" class="form-textarea" 
                                  rows="6" placeholder="Tell me about your project or inquiry..." required></textarea>
                        <div class="error-message" id="message-error"></div>
                        <div class="char-count">
                            <span id="char-count">0</span>/500 characters
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="newsletter" name="newsletter" class="form-checkbox">
                            <span class="checkbox-custom"></span>
                            Subscribe to my newsletter for updates and tech insights
                        </label>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-submit" id="submitBtn">
                            <span class="btn-text">
                                <i class="fas fa-paper-plane"></i>
                                Send Message
                            </span>
                            <span class="btn-loading" style="display: none;">
                                <i class="fas fa-spinner fa-spin"></i>
                                Sending...
                            </span>
                        </button>
                        <button type="reset" class="btn btn-outline">
                            <i class="fas fa-undo"></i>
                            Reset Form
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="faq">
    <div class="container">
        <h2 class="section-title">Frequently Asked Questions</h2>
        
        <div class="faq-accordion">
            <div class="faq-item">
                <button class="faq-question">
                    <span>What is your typical response time?</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>I typically respond to inquiries within 24-48 hours during business days. For urgent matters, please mention it in your message.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <button class="faq-question">
                    <span>Do you work on freelance projects?</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>Yes, I'm open to freelance projects depending on my current availability and the project scope. Feel free to reach out with your requirements.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <button class="faq-question">
                    <span>What technologies do you specialize in?</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>I specialize in full-stack development with Python (Flask/Django), JavaScript (React/Node.js), and modern web technologies. Check my skills page for a complete list.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <button class="faq-question">
                    <span>Are you available for remote work?</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>Absolutely! I'm experienced with remote collaboration and have worked with teams across different time zones. I'm equipped with all necessary tools for effective remote work.</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Form validation and handling
    const form = document.getElementById('contactForm');
    const submitBtn = document.getElementById('submitBtn');
    const messageTextarea = document.getElementById('message');
    const charCount = document.getElementById('char-count');
    
    // Character counter for message
    messageTextarea.addEventListener('input', function() {
        const count = this.value.length;
        charCount.textContent = count;
        
        if (count > 500) {
            charCount.style.color = '#e74c3c';
        } else {
            charCount.style.color = '#666';
        }
    });
    
    // Form validation
    function validateForm() {
        let isValid = true;
        const fields = {
            name: document.getElementById('name'),
            email: document.getElementById('email'),
            subject: document.getElementById('subject'),
            message: document.getElementById('message')
        };
        
        // Clear previous errors
        document.querySelectorAll('.error-message').forEach(error => {
            error.textContent = '';
        });
        
        document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(field => {
            field.classList.remove('error');
        });
        
        // Validate name
        if (!fields.name.value.trim()) {
            showError('name', 'Name is required');
            isValid = false;
        } else if (fields.name.value.trim().length < 2) {
            showError('name', 'Name must be at least 2 characters');
            isValid = false;
        }
        
        // Validate email
        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;
        if (!fields.email.value.trim()) {
            showError('email', 'Email is required');
            isValid = false;
        } else if (!emailRegex.test(fields.email.value)) {
            showError('email', 'Please enter a valid email address');
            isValid = false;
        }
        
        // Validate subject
        if (!fields.subject.value) {
            showError('subject', 'Please select a subject');
            isValid = false;
        }
        
        // Validate message
        if (!fields.message.value.trim()) {
            showError('message', 'Message is required');
            isValid = false;
        } else if (fields.message.value.trim().length < 10) {
            showError('message', 'Message must be at least 10 characters');
            isValid = false;
        } else if (fields.message.value.length > 500) {
            showError('message', 'Message must not exceed 500 characters');
            isValid = false;
        }
        
        return isValid;
    }
    
    function showError(fieldName, message) {
        const field = document.getElementById(fieldName);
        const error = document.getElementById(fieldName + '-error');
        
        field.classList.add('error');
        error.textContent = message;
    }
    
    // Form submission
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        if (validateForm()) {
            // Show loading state
            const btnText = submitBtn.querySelector('.btn-text');
            const btnLoading = submitBtn.querySelector('.btn-loading');
            
            btnText.style.display = 'none';
            btnLoading.style.display = 'inline-flex';
            submitBtn.disabled = true;
            
            // Simulate form submission (replace with actual form submission)
            setTimeout(() => {
                // Reset loading state
                btnText.style.display = 'inline-flex';
                btnLoading.style.display = 'none';
                submitBtn.disabled = false;
                
                // Show success message
                alert("Thank you for your message! I\\'ll get back to you soon.");
                form.reset();
                charCount.textContent = '0';
            }, 2000);
            
            // In a real application, you would submit the form here
            // form.submit();
        }
    });
    
    // Real-time validation
    document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(field => {
        field.addEventListener('blur', function() {
            validateForm();
        });
    });
    
    // FAQ Accordion
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        const answer = item.querySelector('.faq-answer');
        const icon = question.querySelector('i');
        
        question.addEventListener('click', () => {
            const isOpen = item.classList.contains('active');
            
            // Close all other items
            faqItems.forEach(otherItem => {
                if (otherItem !== item) {
                    otherItem.classList.remove('active');
                    otherItem.querySelector('.faq-answer').style.maxHeight = null;
                    otherItem.querySelector('i').style.transform = 'rotate(0deg)';
                }
            });
            
            // Toggle current item
            if (!isOpen) {
                item.classList.add('active');
                answer.style.maxHeight = answer.scrollHeight + 'px';
                icon.style.transform = 'rotate(180deg)';
            } else {
                item.classList.remove('active');
                answer.style.maxHeight = null;
                icon.style.transform = 'rotate(0deg)';
            }
        });
    });
</script>
{% endblock %}